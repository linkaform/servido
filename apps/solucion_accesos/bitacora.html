<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bitacora</title>
	<link rel="icon" type='image/svg+xml' href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 384 512'><path d='M280 64h40c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128C0 92.7 28.7 64 64 64h40 9.6C121 27.5 153.3 0 192 0s71 27.5 78.4 64H280zM64 112c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H320c8.8 0 16-7.2 16-16V128c0-8.8-7.2-16-16-16H304v24c0 13.3-10.7 24-24 24H192 104c-13.3 0-24-10.7-24-24V112H64zm128-8a24 24 0 1 0 0-48 24 24 0 1 0 0 48z'%3E%3C/path%3E%3C/svg%3E" />
	
	<link rel="stylesheet" href="./style.css">
	<link rel="stylesheet" type="text/css" href="../styles/css/styles_index.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.5/dist/sweetalert2.min.css">
	<link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
	<navbar-component ></navbar-component>

    <!-- Title -->
	<section class="mainSection mainSectionMargins">
		<div class="d-flex row mt-4 justify-content-start">
			<div class="col-6 ">
				<h5 class="card-title text-uppercase text-dark mb-0 ms-2">Información de Usuarios</h5>
			</div>
			<div class="col-6 text-start">
				<p><span className='h4'><b>Fecha:</b></span>&nbsp;&nbsp; Febrero 14 2024 15:37</p>
			</div>
		</div>
	</section>
	
	<!-- Information Plant-->
	<section class="mainSectionMargins">
		<div class="row ">
			<div class="col-sm-12 col-md-12 col-lg-12 col-xl-4">
				<div class="card m-2 div-card-portal customShadow">
				    <locationcard-component> </locationcard-component>
				</div>
			</div>
			<div class="col-sm-12 col-md-6 col-lg-3 col-xl-2">
				<div class="card  m-2 div-card-portal customShadow">
				    <div class="card-body p-3">
				        <div class="d-flex justify-content-evenly">
			           		<p class="h1 font-weight-bold mb-0 text-dark text-center" id="textAlert1">00</p>
			            	<i class="fa-solid fa-house"  style="font-size: 40px;"></i>
			            </div>
			            <h5 class="card-title text-center text-uppercase text-dark">Visitas en el Día</h5>
				    </div>
				</div>
			</div>
			<div class="col-sm-12 col-md-6 col-lg-3 col-xl-2">
				<div class="card  m-2 div-card-portal customShadow">
				    <div class="card-body p-3">
				        <div class="d-flex justify-content-evenly">
			            	<p class="h1 font-weight-bold mb-0 text-dark text-center" id="textAlert2">00</p>
			            	<i class="fa-solid fa-users" style="font-size: 40px;"></i>
			            </div>
			            <h5 class="card-title text-center text-uppercase text-dark">Personal Dentro</h5>
				    </div>
				</div>
			</div>
			<div class="col-sm-12 col-md-6 col-lg-3 col-xl-2">
				<div class="card  m-2 div-card-portal customShadow">
				    <div class="card-body p-3">
				        <div class="d-flex justify-content-evenly">
			            	<p class="h1 font-weight-bold mb-0 text-dark text-center" id="textAlert3">00</p>
			            	<i class="fa-solid fa-car" style="font-size: 40px;"></i>
			            </div>
			            <h5 class="card-title text-center text-uppercase text-dark">Vehículos Dentro</h5>
				    </div>
				</div>
			</div>
			<div class="col-sm-12 col-md-6 col-lg-3 col-xl-2">
				<div class="card  m-2 div-card-portal customShadow">
				    <div class="card-body p-3">
				        <div class="d-flex justify-content-evenly">
			            	<p class="h1 font-weight-bold mb-0 text-dark text-center" id="textAlert4">00</p>
			            	<i class="fa-solid fa-door-open"  style="font-size: 40px;"></i>
			            </div>
			            <h5 class="card-title text-center text-uppercase text-dark">Salidas Registradas</h5>
				    </div>
				</div>
			</div>
		</div>
	</section>

	<!-- Tablas -->
	<section class="mainSectionMargins">
		<div class="row mt-4">
			<div class="col-12">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="nav-item" role="presentation">
						<button class="nav-link active" id="in-location-tab" data-bs-toggle="tab" data-bs-target="#in-location-tab-pane" type="button" role="tab" aria-controls="in-location-tab-pane" aria-selected="true">Personal</button>
					</li>
					<li class="nav-item" role="presentation">
						<button class="nav-link" id="out-location-tab" data-bs-toggle="tab" data-bs-target="#out-location-tab-pane" type="button" role="tab" aria-controls="out-location-tab-pane" aria-selected="false">Locker</button>
					</li>
				</ul>
				<div class="tab-content" id="myTabContent">
					<div class="tab-pane fade show active" id="in-location-tab-pane" role="tabpanel" aria-labelledby="in-location-tab" tabindex="0">
						<div class="mt-3 row ">
							<div class="col-2 ms-4">
								<button type="button" class="btn btn-primary btn-sm" onclick="descargarExcel('tableEntradas')"><i class="fa-solid fa-file-excel" ></i> Descargar</button>
							</div>
						</div>
						<div class="col-12 mt-2 ms-4 mb-5">
							<div class="mt-3 " id="tableEntradas"></div>
						</div>
					</div>
					<div class="tab-pane fade overflow-hidden" id="out-location-tab-pane" role="tabpanel" aria-labelledby="out-location-tab" tabindex="0">
						<div class="mt-3 row ms-5">
							<div class="col-2 ms-3">
								<button type="button" class="btn btn-primary btn-sm" onclick="descargarExcel('tableSalidas')"><i class="fa-solid fa-file-excel" ></i> Descargar</button>
							</div>
						</div>
						<div class="col-12 mt-2 ms-4 mb-5">
							<div class="mt-3 ms-5 me-5" id="tableSalidas"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Modal Card-->
	<div class="modal fade" id="cardModal" tabindex="-1" data-bs-backdrop="static"   aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Gafete</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="mb-3 col-12">
							<label class="form-label">Numero de gafete *</label>
							<input type="text" class="form-control form-gafete"  placeholder="Numero" id="numCard">
						</div>
						<div class="mb-3 col-12">
							<label class="form-label">Tipo de documento de garantía *</label>
							<br>
							<div class="form-check form-check-inline">
								<input class="form-check-input form-gafete" type="radio" name="radioOptionsDocument" id="checkIne" >
								<label class="form-check-label" for="checkIne">Ine</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input form-gafete" type="radio" name="radioOptionsDocument" id="checkLicencia" >
								<label class="form-check-label" for="checkLicencia">Licencia de Conducir</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input form-gafete" type="radio" name="radioOptionsDocument" id="checkPase" >
								<label class="form-check-label" for="checkPase">Pase de estacionamiento</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input form-gafete" type="radio" name="radioOptionsDocument" id="checkOtro" >
								<label class="form-check-label" for="checkOtro">Otro</label>
							</div>
						</div>
						<div class="mb-3 col-12">
							<input type="text" class="form-control "  id="inputOtroDescCard" placeholder="Otro">
						</div>
						<div class="mb-3 col-12">
							<label class="form-label">Locker de Seguridad *</label>
							<input type="text" class="form-control form-gafete"  placeholder="Espacio Designado" id="inputLocker">
						</div>
					</div>
					<small class="text-black-50 mt-3">** Campos son obligatorios</small>
					
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-primary" onclick="getFormGafete();return false">Asignar</button>
				</div>
			</div> 
		</div>
	</div>
	

	<!-- Modal Out-->
	<div class="modal fade" id="outModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Salida</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row">
						<h3>¿Está seguro de confirmar la salida?</h3>

						<p class="mt-3 text-red">La salida no puede ser confirmada en este momento. Aún hay documentos en el locker correspondiente que deben ser desocupados antes de proceder.</p>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success">Confirmar</button>
				</div>
			</div> 
		</div>
	</div>

	<!-- Modal Data-->
	<div class="modal fade" id="dataModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Información del Usuario</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="col-sm-12 col-md-12 col-lg-12 row  p-2">
						<div class="col-4">
							<img src="https://f001.backblazeb2.com/file/app-linkaform/public-client-20/None/5ea35de83ab7dad56c66e045/64eccb863340ee1053751c1f.png" class="rounded-circle border-4 shadow-4-strong mx-auto d-block mt-3" alt="Imagen Usuario" style="width:150px;height:150px;" id="imgUser">
						</div>
						<div class="col-5">
							<img src="https://f001.backblazeb2.com/file/app-linkaform/public-client-126/71202/60b81349bde5588acca320e1/65dd1061092cd19498857933.jpg" alt="Imagen Usuario" style="width:320px;height:170px;" id="imgUser">
						</div>
						<div class="col-3">
							<p class="mb-0">Nombre del Usuario</p>
							<small class="text-black-50">Nombre</small>

							<p class="mb-0">Nombre del Jefe</p>
							<small class="text-black-50">Contratista</small>

							<p class="mb-0">Ago-25-2024</p>
							<small class="text-black-50">Vigencia</small>

							<p class="mb-0">Autorizado</p>
							<small class="text-black-50">Status</small>
						</div>
					</div>
					<div class="col-sm-12 col-md-12 col-lg-12 row  p-2">
						<div class="col-sm-12 col-md-6 col-lg-6 p-2">
							<h4>Información de visita</h4>
							<p><span className='h4'><b>Motivo de Visita:</b></span>&nbsp;&nbsp; Motivo exampleeeee</p>
							<div class="col-12 d-flex justify-content-between">
								<p><span className='h4'><b>A quien visita:</b></span>&nbsp;&nbsp; Motivo exampleeeee</p>
							</div>
							<p><span className='h4'><b>Autorizado por:</b></span>&nbsp;&nbsp; Autorizado por</p>
							<p><span className='h4'><b>Teléfono:</b></span>&nbsp;&nbsp; 89921232</p>

						</div>
						<div class="col-sm-12 col-md-6 col-lg-6 ">
							<h4>Comentarios / Instrucciones de visita</h4>
							<table class="table-borderless customShadow" style="border: none;">
								<thead >
									<tr>
										<th class="headerColor">Comentarios / Instrucciones</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>- Recordar traer el certificado de seguridad.</td>
									</tr>
									<tr>
										<td>- Indicar que pase a la sala de juntas del primer piso</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class="col-sm-12 col-md-12 col-lg-12 p-2">
						<h4>Accesos permitidos</h4>
						<table class="table-borderless customShadow" style="border: none;">
							<thead>
								<tr>
									<th class="headerColor">Area</th>
									<th class="headerColor">...</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Cuarto de máquinas</td>
									<td>+</td>
								</tr>
								<tr>
									<td>Edificio principal</td>
									<td>+</td>
								</tr>
								
							</tbody>
						</table>
					</div>
					<div class="col-sm-12 col-md-12 col-lg-12 p-2">
						<h4>Equipo</h4>
						<table class="table-borderless customShadow" style="border: none;">
							<thead>
								<tr>
									<th class="headerColor">Tipo</th>
									<th class="headerColor">Marca</th>
									<th class="headerColor">Modelo</th>
									<th class="headerColor">Serie</th>
									<th class="headerColor">COlor</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Computo</td>
									<td>Dell</td>
									<td>Precision 8520</td>
									<td>Dell 5820-12-3452</td>
									<td>Negro</td>
								</tr>
								<tr>
									<td>Computo</td>
									<td>Dell</td>
									<td>Precision 8520</td>
									<td>Dell 5820-12-3452</td>
									<td>Negro</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-sm-12 col-md-12 col-lg-12 p-2">
						<h4>Accesos permitidos</h4>
						<table class="table-borderless customShadow" style="border: none;">
							<thead>
								<tr>
									<th class="headerColor">Marca</th>
									<th class="headerColor">Modelo</th>
									<th class="headerColor">COlor</th>
									<th class="headerColor">Placas</th>
									<th class="headerColor">Estado</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Nissan</td>
									<td>Kicks</td>
									<td>Blanco</td>
									<td>PRC-1265</td>
									<td>Nuevo León</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
				</div>
			</div> 
		</div>
	</div>

	<!-- Modal Out-->
	<div class="modal fade" id="deliverModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Entregar Gafete</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row">
						<h3>¿Está seguro de entregar gafete?</h3>

						<p class="mt-3 text-red">Al entregar el gafete, se desocupara el espacio donde se almacenaba y se retiraran los documentos pertienentes</p>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success">Confirmar</button>
				</div>
			</div> 
		</div>
	</div>

	<!-- Modal Item-->
	<div class="modal fade" id="itemsModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Agregar Equipo</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="col-9 div-equipo-row-123 div-row-equipo" >
						<label class="form-label">Tipo de Equipo: *</label>
						<input class="form-control group-equipo" list="datalistOptionsEquipo123" id="selectTipoEquipo-123" placeholder="Escribe algo para buscar..." >
						<datalist id="datalistOptionsEquipo123">
							<option value="Computo">
							<option value="Herramientas">
							<option value="laptop">
							<option value="PC">
							<option value="linterna">
						</datalist>
					</div>
					<div class="col-9 div-equipo-row-1 div-row-equipo">
					<label class="form-label ">Nombre del Equipo:*</label>
						<input type="text" class="form-control group-equipo" id="inputNombreEquipo-123">
					</div>
					<div class="row">
						<div class="mb-3 col-6">
							<label class="form-label">Marca </label>
							<input type="text" class="form-control form-item"  placeholder="Marca" id="inputMarcaItem">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Modelo </label>
							<input type="text" class="form-control form-item"  placeholder="Modelo" id="inputModeloItem">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Numero de Serie </label>
							<input type="text" class="form-control form-item"  placeholder="Serie" id="inputSerieItem">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Color </label>
							<input type="text" class="form-control form-item"  placeholder="Color" id="inputColorItem">
						</div>
					</div>
					<small class="text-black-50 mt-3">** Campos son obligatorios</small>
					<br/>
					<small class="text-danger mt-1 mb-3"  id="alertItemModal" style="display:none;">** Faltan campos obligatorios</small>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-warning" onclick="getSaveItem();return false;">Guardar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal Car-->
	<div class="modal fade" id="carsModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Vehículo</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
				<div class="col-9 div-vehiculo-row-1 div-row-vehiculo" >
					<label class="form-label">Tipo de Vehiculo*: </label>
					<span class="input-group-addon" id='spinnerTipoVehiculo'>
                		<i class="fa fa-refresh fa-spin"></i>
            		</span>
					<input class="form-control group-vehiculo" list="datalistOptionsTipo" id="selectTipoVehiculo-123" placeholder="Escribe algo para buscar..." onChange='onChangeCatalog("vehiculo",123)'>
					<datalist id="datalistOptionsTipo">
				
					</datalist>
				</div>
					<div class="col-9 div-vehiculo-row-1 div-row-vehiculo">
						<div id='divCatalogMarca123'>
							<label class="form-label">Marca: </label>
							<input class="form-control group-vehiculo" list="datalistOptionsMarca123" id="selectCatalogMarca-123" placeholder="Escribe algo para buscar..." onchange='onChangeCatalog("marca",123)'> 
							<datalist id="datalistOptionsMarca123">
					
							</datalist>
						</div>
						<div id='divCatalogModelo123'>
							<label class="form-label">Modelo: </label>
							<input class="form-control group-vehiculo" list="datalistOptionsModelo123" id="selectCatalogModelo-123" placeholder="Escribe algo para buscar...">
							<datalist id="datalistOptionsModelo123">
					
							</datalist>
						</div>
						<div class="div-row-vehiculo">
							<label class="form-label">Matricula del Vehiculo:</label>
							<input type="text" class="form-control group-vehiculo" id="inputMatriculaVehiculo-123">
						</div>
						<div class="div-row-vehiculo">
							<label class="form-label">Color:</label>
							<input type="text" class="form-control group-vehiculo" id="inputColor-123">
							<hr >
						</div>
					</div>
					<!--
					<div class="row">
						<div class="mb-3 col-12">
							<label class="form-label">Tipo de Vehiculo *</label>
							<input type="text" class="form-control form-car"  placeholder="Tipo" id="inputTipoCar">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Marca *</label>
							<input type="text" class="form-control form-car"  placeholder="Marca" id="inputMarcaCar">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Modelo *</label>
							<input type="text" class="form-control form-car"  placeholder="Modelo" id="inputModeloCar">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Color *</label>
							<input type="text" class="form-control form-car"  placeholder="Color" id="inputColorCar">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Numero de placas *</label>
							<input type="text" class="form-control form-car"  placeholder="Placas" id="inputPlacasCar">
						</div>
					</div>
					-->
					<small class="text-black-50 mt-3">** Campos son obligatorios</small>
					<br/>
					<small class="text-danger mt-1 mb-3" id="alert_car_modal" style="display:none;">** Faltan campos obligatorios</small>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-warning" onclick="getSaveCar();return false;">Guardar</button>
				</div>
			</div>
		</div>
	</div>

</body>
<!-- Local -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>\

<script type="text/javascript" src="../utils/servido_utils.js"></script>
<script type="text/javascript" src="./functions.js"></script>
<script  type="text/javascript" src="./components/locationCard.js"></script>
<script  type="text/javascript" src="./components/navbar.js"></script>
<script type="text/javascript" src="./bitacoraData.js"></script>
<script type="text/javascript" src="./bitacora.js"></script>

<!-- Jquery -->
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<!-- Tabulator -->
<script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script type="text/javascript" src="../styles/js/sweetalert2.all.min.js"></script>

</html>

