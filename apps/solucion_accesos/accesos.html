<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Accesos</title>
	<link rel="icon" type='image/svg+xml' href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 512'><path  d='M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3H178.3zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7V273.8L591.4 312z'%3E%3C/path%3E%3C/svg%3E" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.5/dist/sweetalert2.min.css">
	<link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	
</head>
<body>
	<navbar-component> </navbar-component>
	<!-- Information Plant-->
	<section class="mainSection mainSectionMargins mb-3">

		<div class="accordion" id="accordionExample">
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                <h5 class="m-0">Informacion de la caseta</h5>
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show "  data-bs-parent="#accordionExample">
              <div class="accordion-body p-0 pt-1" >
                   <div class="row ">
						<div class="col-sm-12 col-md-12 col-lg-12 col-xl-4">
							<div class="card m-2 div-card-portal  customShadow">
							    <locationcard-component> </locationcard-component>
							</div>
						</div>
						<div class="col-sm-12 col-md-6 col-lg-3 col-xl-2">
							<div class="card  m-2 div-card-portal customShadow">
							    <div class="card-body p-3">
							        <div class="d-flex justify-content-evenly">
						           		<span class="h1 font-weight-bold mb-0 text-dark text-center" id="textVisitasEnElDia"> </span>
						            	<i class="fa-solid fa-house"  style="font-size: 40px;"></i>
						            </div>
						            <h5 class="card-title text-center text-uppercase text-dark">Visitas en el Día</h5>
							    </div>
							</div>
						</div>
						<div class="col-sm-12 col-md-6 col-lg-3 col-xl-2">
							<div class="card  m-2 div-card-portal customShadow">
							    <div class="card-body p-3">
							        <div class="d-flex justify-content-evenly">
						            	<p class="h1 font-weight-bold mb-0 text-dark text-center" id="textPersonalDentro"> </p>
						            	<i class="fa-solid fa-users" style="font-size: 40px;"></i>
						            </div>
						            <h5 class="card-title text-center text-uppercase text-dark">Personal Dentro</h5>
							    </div>
							</div>
						</div>
						<div class="col-sm-12 col-md-6 col-lg-3 col-xl-2">
							<div class="card  m-2 div-card-portal customShadow">
							    <div class="card-body p-3">
							        <div class="d-flex justify-content-evenly">
						            	<p class="h1 font-weight-bold mb-0 text-dark text-center" id="textVehiculosDentro"> </p>
						            	<i class="fa-solid fa-car" style="font-size: 40px;"></i>
						            </div>
						            <h5 class="card-title text-center text-uppercase text-dark">Vehículos Dentro</h5>
							    </div>
							</div>
						</div>
						<div class="col-sm-12 col-md-6 col-lg-3 col-xl-2">
							<div class="card  m-2 div-card-portal customShadow">
							    <div class="card-body p-3">
							        <div class="d-flex justify-content-evenly">
						            	<p class="h1 font-weight-bold mb-0 text-dark text-center" id="textSalidasRegistradas"> </p>
						            	<i class="fa-solid fa-door-open"  style="font-size: 40px;"></i>
						            </div>
						            <h5 class="card-title text-center text-uppercase text-dark">Salidas Registradas</h5>
							    </div>
							</div>
						</div>
					</div>
              </div>
            </div>
          </div>
        </div>	
	</section>

	<!-- Filter User-->
	<section class="d-flex justify-content-center mainSectionMargins">
			<div>
				<div class="input-group" role="group">
					<input type="text" class="form-control  input-search-portal " placeholder="Codigo User" value="" id="inputCodeUser" onchange="getDataUser();return false;">
					<span class="input-group-text bg-warning-subtle  cursor-pointer myCustomBtnGroup" onclick="getDataUser();return false;"><i class="fa-solid fa-magnifying-glass" ></i></span>
					<span class="input-group-text bg-warning-subtle cursor-pointer myCustomBtnGroup" data-bs-toggle="modal" data-bs-target="#listModal" ><i class="fa-solid fa-list"></i></span>
				</div>
			</div>
			<div class="ms-2" >
				<div>
					<button type="button" class="mt-1 mb-1 btn btn-success btn-sm p-3 pt-1 pb-1" style="display: none;" id="buttonIn" onclick="setDataUser();return false;">
					<i class="fa-solid fa-person-walking-arrow-right"></i> Registrar Ingreso</button>
					<button type="button" class="mt-1 mb-1  btn btn-danger btn-sm p-5 pt-1 pb-1" style="display: none;" id="buttonOut" onclick="registrarSalida();return false;">
					<i class="fa-sharp fa-solid fa-door-open"></i> Registrar Salida</button>
					<button type="button" class="mt-1 mb-1 btn btn-primary btn-sm -3 pt-1 pb-1" data-bs-toggle="modal" data-bs-target="#cardModal" style="display: none;"id="buttonCard">  <i class="fa-sharp fa-solid fa-id-card"></i> Entregar Gafete</button>
					<button type="button" class="mt-1 mb-1 btn btn-warning btn-sm p-3 pt-1 pb-1" style="display: none;" id="buttonClean" onclick="setCleanData()">
					<i class="fa-solid fa-broom"></i> Limpiar</button>
					<button type="button" class="mt-1 mb-1 btn btn-success btn-sm p-3 pt-1 pb-1" data-bs-toggle="modal" data-bs-target="#newVisitModal" id="buttonNew">
				<i class="fa-solid fa-plus"></i> Nueva Visita</button>
				</div>
				
			</div>
	</section>	

	<!-- Information User-->
	<section class="section-data mainSectionMargins">
		<div class="row ">
			<div class="col-sm-12 col-md-12 col-lg-12 col-xl-7 ">
				<div class="row  div-container-portal me-1 pt-0 customShadow">
					<h4 class="m-2">Información personal &nbsp;&nbsp;</h4>
					<div class="col-sm-12 col-md-12 col-lg-12 col-xl-3">
						<img src="https://f001.backblazeb2.com/file/app-linkaform/public-client-20/None/5ea35de83ab7dad56c66e045/64eccb863340ee1053751c1f.png" class="rounded-circle border-4 shadow-4-strong mx-auto d-block mt-5" alt="Imagen Usuario" style="max-width:120px; max-height:120px; object-fit: cover;" id="imgUser">
						<h5 class="m-4 mb-2" style="font-size:1.3em">Tipo de pase: <br><span id="tipoPaseText" style="font-weight: normal"></span></h5>
					</div>
					<div class="col-sm-12 col-md-12 col-lg-12 col-xl-3">
						<img src="https://f001.backblazeb2.com/file/app-linkaform/public-client-126/71202/60b81349bde5588acca320e1/65dd1061092cd19498857933.jpg" alt="Imagen Usuario" class=" mx-auto  mt-5" style="max-width:240px;max-height:120px; object-fit: cover;" id="imgCard">
					</div>
					<div class="col-sm-12 col-md-12 col-lg-12 col-xl-6">
						<div class="row ">
							<div class="col-6">
								<p><span className='h4'><b>Nombre:</b></span>&nbsp;&nbsp; <span id="nameUserInf"></span></p>
							</div>
							<div class="col-6">
								<h3>
									<span class="text-danger" id="textOut">Salida</span>
									<span class="text-success" id="textIn">Entrada</span>
								</h3>
							</div>
						</div>
						<p><span className='h4'><b>Contratista:</b></span>&nbsp;&nbsp; <span id="contratista"></span></p>
						<p><span className='h4'><b>Vigencia:</b></span>&nbsp;&nbsp; <span id="validity"></span></p>
						<p><span className='h4'><b>Status:</b></span>&nbsp;&nbsp; <span id="status"></span></p>
						<div class="row ">
							<div class="col-6">
								<p><span className='h4'><b>A quíen Visita:</b></span>&nbsp;&nbsp;<span id="motivo"></span></p>
							</div>
							<div class="col-6">
								<button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#phoneModal">
									<i class="fa-solid fa-phone"></i>
								</button>
								<button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#messageModal">
									<i class="fa-solid fa-message"></i> 
								</button>
							</div>
						</div>
						<p><span className='h4'><b>Motivo de Visita:</b></span>&nbsp;&nbsp;<span id="motivo"></span></p>
					</div>
				</div>
			</div>
			<div class="col-sm-12 col-md-12 col-lg-12 col-xl-5 div-container-portal div-container-table-comments customShadow ">
				<div class="d-flex justify-content-between mb-2 mt-2 ">
					<h4>Comentarios / Instrucciones de visita</h4>
					<button type="button" class="btn btn-info ml-5 btn-sm" data-bs-toggle="modal" data-bs-target="#listCommentsModal" id="buttonCommentsModal">
						<i class="fa-solid fa-eye"></i>
					</button>
				</div>
				<div class="overflowCustom" style="max-width:760px !important; ">
					<table id="tableInstructions" class=" table-borderless" style="border: none;">
						<thead class="overflowCustomHead">
							<tr>
								<th class="headerColor">Comentarios / Instrucciones</th>
							</tr>
						</thead>
						<tbody></tbody>
					</table>
			    </div>
			</div>
		</div>
	</section>

	<!-- Table User-->
	<section class="section-data mainSectionMargins">
		<div class="row p-2">
			<div class="col-sm-12 col-md-12 col-lg-12 col-xl-4">
				<div class="div-containerTable-portal div-container-table p-2 customShadow">
					<div class="">
						<div class="mt-2 mb-2 d-flex justify-content-between">
							<h4>Ultimos accesos</h4>
							<button type="button" class="btn btn-info ml-5 btn-sm"  data-bs-toggle="modal" data-bs-target="#listBitacoraModal" id="buttonBitacoraModal">
								<i class="fa-solid fa-eye"></i>
							</button>
						</div>
						<div class="overflowCustom" >
							<table id="tableBitacora" class=" table-borderless" style="border: none;">
								<thead class="overflowCustomHead">
									<tr >
										<th class="headerColor">Visito a</th>
										<th class="headerColor">Ubicación</th>
										<th class="headerColor">Duración</th>
									</tr>
								</thead>
								<tbody></tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-12 col-md-12 col-lg-12 col-xl-4">
				<div class="div-containerTable-portal p-2 div-container-table customShadow">
					
					<div class="mt-3 mb-2 d-flex justify-content-between">
						<h4>Permisos / certificaciones</h4>
						<button type="button" class="btn btn-info ml-5 btn-sm" data-bs-toggle="modal" data-bs-target="#listAccessModal" id="buttonAccessModal">
							<i class="fa-solid fa-eye"></i>
						</button>
					</div>
					<div class="overflowCustom" >
						<table id="tableLocations" class=" table-borderless" style="border: none;">
							<thead class="overflowCustomHead">
								<tr>
									<th class="headerColor">Permiso / Certificaciones</th>
									<th class="headerColor">Status</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="col-sm-12 col-md-12 col-lg-12 col-xl-4">
				<div class="div-containerTable-portal p-2 div-container-table customShadow" >
					<div class="mt-3 mb-2 d-flex justify-content-between">
						<h4>Accesos permitidos</h4>
						<button type="button" class="btn btn-info ml-5 btn-sm" data-bs-toggle="modal" data-bs-target="#listLocationsModal" id="buttonLocationsModal">
							<i class="fa-solid fa-eye"></i>
						</button>
					</div>
					<div class="overflowCustom" >
						<table id="tableAccess" class="table-borderless" >
						<thead class="overflowCustomHead" >
							<tr>
								<th class="headerColor">Acceso</th>
								<th class="headerColor">Status</th>
							</tr>
						</thead>
						<tbody ></tbody>
					</table>
					</div>
					
				</div>
			</div>
			<div class="col-sm-12 col-md-12 col-lg-12 col-xl-6">
				<div class="div-containerTable-portal p-2 div-container-table customShadow">
					<div class="mt-3 mb-2 d-flex justify-content-between">
						<h4>Equipos Autorizados</h4>

						<div>
							<button type="button" class="btn btn-success  btn-sm"  data-bs-toggle="modal" data-bs-target="#equipmentModal">
								<i class="fa-solid fa-plus"></i> Agregar Equipo
							</button>
							<button type="button" class="btn btn-primary  btn-sm"  onclick="setViewModalItem();return false">
								<i class="fa-solid fa-list"></i>
							</button>
							<button type="button" class="btn btn-info  btn-sm"  data-bs-toggle="modal" data-bs-target="#listItemsModal" id="buttonItemsModal">
								<i class="fa-solid fa-eye"></i>
							</button>
						</div>
					</div>
					<div class="overflowCustom" style="max-width:900px !important; ">
						<table id="tableItems" class=" table-borderless" style="border: none;">
							<thead class="overflowCustomHead">
								<tr>
									<th class="headerColor">Tipo</th>
									<th class="headerColor">Marca</th>
									<th class="headerColor">Modelo</th>
									<th class="headerColor">No.de Serie</th>
									<th class="headerColor">Color</th>
									<th class="headerColor"> </th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="col-sm-12 col-md-12 col-lg-12 col-xl-6">
				<div class="div-containerTable-portal p-2 div-container-table customShadow" >
					<div class="mt-3 mb-2 d-flex justify-content-between">
						<h4>Vehiculos Autorizados</h4>
						<div>
							<button type="button" class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#carModal" id="buttonAddCarModal">
								<i class="fa-solid fa-plus"></i> Agregar Vehículo
							</button>
							<button type="button" class="btn btn-primary btn-sm"  onclick="setViewModalCard();return false" >
								<i class="fa-solid fa-list"></i>
							</button>
							<button type="button" class="btn btn-info  btn-sm"  data-bs-toggle="modal" data-bs-target="#listCarsModal" id="buttonCarsModal">
								<i class="fa-solid fa-eye"></i>
							</button>
						</div>
					</div>	
					<div class="overflowCustom" style="max-width:900px !important;">
						<table id="tableCars"class=" table-borderless" style="border: none;">
							<thead class="overflowCustomHead">
								<tr>
									<th class="headerColor">Tipo</th>
									<th class="headerColor">Marca</th>
									<th class="headerColor">Modelo</th>
									<th class="headerColor">Matricula</th>
									<th class="headerColor">Color</th>
									<th class="headerColor"> </th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Modal List-->
	<div class="modal fade" id="listModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Pasaportes Activos</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row m-3">
						<input type="text" class="form-control" placeholder="Busqueda" onkeyup="functionSearchList(event);return false;">
					</div>
					<div class="row m-3">
						<ol class="list-group list-group-numbered" id="listPasaportActive"></ol>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
				</div>
			</div> 
		</div>
	</div>

	<!-- Modal New Visit-->
	<div class="modal fade" id="newVisitModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Nueva Visita</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="mb-3 col-12">
							<label class="form-label">Nombre Completo*</label>
							<input type="text" class="form-control" id="inputNombreNV" placeholder="Nombre">
						</div>
						<div class="col-sm-12 col-md-6 col-lg-6 col-xl-4  mb-3">
							<label class="form-label">Identificación: *</label>
							<button type="button" class="btn  btn-primary" onclick="getScreenCard();return false;" id="buttonTakeCard">
								<i class="fa-solid fa-camera-retro"></i>
							</button>
							<button type="button" class="btn  btn-secondary"  style="display: none;" id="buttonSaveCard">
								Guardar Foto <i class="fa-solid fa-aperture"></i>
							</button>
							<!-- Canvas Foto -->
							<div id="containerCard" class="mt-2">
								<canvas id="canvasPhoto" style="display: none;width: 185px;height: 125px;"></canvas>
								<img id="imgCard" src="" style="display: none;width: 185px;height: 125px;">
							</div>
							<input type="file" class="form-control mt-2" id="inputFileCard" >
						</div>
						<div class="col-sm-12 col-md-6 col-lg-6 col-xl-4  mb-3">
							<label class="form-label">Fotografia: *</label>
							<button type="button" class="btn  btn-primary " onclick="getScreenUser();return false;" id="buttonTakeUser">
								<i class="fa-solid fa-camera-retro"></i>
							</button>
							<button type="button" class="btn  btn-secondary"  style="display: none;" id="buttonSaveUser">
								Guardar Foto <i class="fa-solid fa-aperture"></i>
							</button>
							<!-- Canvas Foto -->
							<div id="containerUser" class="mt-2">
								<canvas id="canvasPhotoUser" style="display: none;width: 185px;height: 125px;"></canvas>
								<img id="imgUser" src="" style="display: none;width: 185px;height: 125px;">
							</div>
							<input type="file" class="form-control mt-2" id="inputFileUser" >
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Razón Social*</label>
							<input type="text" class="form-control" id="inputRazonSocialNV"  placeholder="Empresa">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Área que visita*</label>
							<select class="form-select" id="inputAreaVisitaNV">
								<option selected>--Seleccione--</option>
								<option value="1">One</option>
								<option value="2">Two</option>
								<option value="3">Three</option>
							</select>
						</div>
							<div class="mb-3 col-12">
							<label class="form-label">Visita a*</label>
							<select class="form-select" id="selectVisitaNV">
								<option selected>--Seleccione--</option>
								<option value="1">One</option>
								<option value="2">Two</option>
								<option value="3">Three</option>
							</select>
						</div>
						<div class="mb-3 col-12">
							<label class="form-label">Motivo de Visita *</label>
							<textarea class="form-control" id="inputMotivoVisitaNV" rows="3"></textarea>
						</div>
					
						
					</div>
					<small class="text-black-50 mt-3">** Campos son obligatorios</small>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm" onclick="asignarNuevaVisita()">Asignar</button>
				</div>
			</div> 
		</div>
	</div>

	<!-- Modal Card-->
	<div class="modal fade" id="cardModal" tabindex="-1" data-bs-backdrop="static"   aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Gafete</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="mb-3 col-12">
							<label class="form-label">Numero de gafete *</label>
							<input type="text" class="form-control form-gafete"  placeholder="Numero" id="numCard">
						</div>
						<div class="mb-3 col-12">
							<label class="form-label">Tipo de documento de garantía *</label>
							<br>
							<div class="form-check form-check-inline">
								<input class="form-check-input form-gafete" type="radio" name="radioOptionsDocument" value="INE" id="checkIne" onchange="setDataInformation('checkOtro');return false;">
								<label class="form-check-label" for="checkIne">Ine</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input form-gafete" type="radio" name="radioOptionsDocument" value="Licencia de conducir" id="checkLicencia" onchange="setDataInformation('checkOtro');return false;">
								<label class="form-check-label" for="checkLicencia">Licencia de Conducir</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input form-gafete" type="radio" name="radioOptionsDocument" value="Pase de Estacionamiento" id="checkPase" onchange="setDataInformation('checkOtro');return false;">
								<label class="form-check-label" for="checkPase">Pase de estacionamiento</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input form-gafete" type="radio" name="radioOptionsDocument" value="Otro" id="checkOtro" onchange="setDataInformation('checkOtro');return false;">
								<label class="form-check-label" for="checkOtro">Otro</label>
							</div>
						</div>
						<div class="mb-3 col-12">
							<input type="text" class="form-control " style="display: none;" id="inputOtroDescCard" placeholder="Otro">
						</div>
						<div class="mb-3 col-12">
							<label class="form-label">Locker de Seguridad *</label>
							<input type="text" class="form-control form-gafete"  placeholder="Espacio Designado" id="inputLocker">
						</div>
					</div>
					<small class="text-black-50 mt-3">** Campos son obligatorios</small>
					<small class="text-danger mt-1 mb-3" id="alert_gafete_modal" style="display:none;">** Faltan campos obligatorios</small>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm" id="idButtonAsignarGafete" onclick="setDataGafete();return false">Asignar gafete</button>
					<button class="btn btn-success btn-sm" type="button" id="idLoadingButtonAsignarGafete" style="display:none" disabled>
                <span class="spinner-border spinner-border-sm " role="status" aria-hidden="true"></span>
                Cargando...
          </button>
				</div>
			</div> 
		</div>
	</div>

	<!-- Modal Message-->
	<div class="modal fade" id="messageModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Mensaje</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="mb-3">
						<label  class="form-label">Mensaje *</label>
						<textarea class="form-control"  rows="6">Queremos informarle que uno de sus visitantes ha intentado acceder a instalaciones, sin 	embargo, su acceso ha sido denegado por el momento. Si considera necesario habilitar su ingreso, le sugerimos que se pongas en contacto con nuestro equipo de seguridad para brindar la autorización correspondiente. 
						Agradecemos su atención y cooperación en este asunto.
						</textarea>
					</div>
					<small class="text-black-50 mt-3">** Campos son obligatorios</small>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm">Enviar</button>
				</div>
			</div>
		</div>
	</div>
	
	<!-- Modal Phone-->
	<div class="modal fade" id="phoneModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Salida</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row">
						<h3>¿Está seguro de realizar llamada?</h3>
						<p class="mt-3 text-red">Al realizar la llamada, se contactara a el numero registrado en la solicutd de entrada.</p>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm">Llamar</button>
				</div>
			</div> 
		</div>
	</div>

	<!-- Modal Item-->
	<div class="modal fade" id="equipmentModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Agregar equipo a selecionados</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="col-9 div-equipo-row-123 div-row-equipo" >
						<label class="form-label">Tipo de Equipo: *</label>
						<input class="form-control group-equipo" list="datalistOptionsEquipo123" id="selectTipoEquipo-123" placeholder="Escribe algo para buscar..." >
						<datalist id="datalistOptionsEquipo123">
							<option value="Computo">
							<option value="Herramientas">
							<option value="laptop">
							<option value="PC">
							<option value="linterna">
						</datalist>
					</div>
					<div class="col-9 div-equipo-row-1 div-row-equipo">
					<label class="form-label ">Nombre del Equipo:*</label>
						<input type="text" class="form-control group-equipo" id="inputNombreEquipo-123">
					</div>
					<div class="row">
						<div class="mb-3 col-6">
							<label class="form-label">Marca </label>
							<input type="text" class="form-control form-item"  placeholder="Marca" id="inputMarcaItem">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Modelo </label>
							<input type="text" class="form-control form-item"  placeholder="Modelo" id="inputModeloItem">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Numero de Serie </label>
							<input type="text" class="form-control form-item"  placeholder="Serie" id="inputSerieItem">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Color </label>
							<input type="text" class="form-control form-item"  placeholder="Color" id="inputColorItem">
						</div>
					</div>
					<small class="text-black-50 mt-3">** Campos son obligatorios</small>
					<br/>
					<small class="text-danger mt-1 mb-3"  id="alertItemModal" style="display:none;">** Faltan campos obligatorios</small>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm" onclick="agregarEquipoAModal();return false;">Guardar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal Car-->
	<div class="modal fade" id="carModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Vehículo</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
				<div class="col-9 div-vehiculo-row-1 div-row-vehiculo" >
					<label class="form-label">Tipo de Vehiculo*: </label>
					<span class="input-group-addon" id='spinnerTipoVehiculo'>
                		<i class="fa fa-refresh fa-spin"></i>
            		</span>
					<input class="form-control group-vehiculo" list="datalistOptionsTipo" id="selectTipoVehiculo-123" placeholder="Escribe algo para buscar..." onChange='onChangeCatalog("vehiculo",123)'>
					<datalist id="datalistOptionsTipo">
				
					</datalist>
				</div>
					<div class="col-9 div-vehiculo-row-1 div-row-vehiculo">
						<div id='divCatalogMarca123'>
							<label class="form-label">Marca: </label>
							<input class="form-control group-vehiculo" list="datalistOptionsMarca123" id="selectCatalogMarca-123" placeholder="Escribe algo para buscar..." onchange='onChangeCatalog("marca",123)'> 
							<datalist id="datalistOptionsMarca123">
					
							</datalist>
						</div>
						<div id='divCatalogModelo123'>
							<label class="form-label">Modelo: </label>
							<input class="form-control group-vehiculo" list="datalistOptionsModelo123" id="selectCatalogModelo-123" placeholder="Escribe algo para buscar...">
							<datalist id="datalistOptionsModelo123">
					
							</datalist>
						</div>
						<div class="div-row-vehiculo">
							<label class="form-label">Matricula del Vehiculo:</label>
							<input type="text" class="form-control group-vehiculo" id="inputMatriculaVehiculo-123">
						</div>
						<div class="div-row-vehiculo">
							<label class="form-label">Color:</label>
							<input type="text" class="form-control group-vehiculo" id="inputColor-123">
							<hr >
						</div>
					</div>
					<!--
					<div class="row">
						<div class="mb-3 col-12">
							<label class="form-label">Tipo de Vehiculo *</label>
							<input type="text" class="form-control form-car"  placeholder="Tipo" id="inputTipoCar">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Marca *</label>
							<input type="text" class="form-control form-car"  placeholder="Marca" id="inputMarcaCar">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Modelo *</label>
							<input type="text" class="form-control form-car"  placeholder="Modelo" id="inputModeloCar">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Color *</label>
							<input type="text" class="form-control form-car"  placeholder="Color" id="inputColorCar">
						</div>
						<div class="mb-3 col-6">
							<label class="form-label">Numero de placas *</label>
							<input type="text" class="form-control form-car"  placeholder="Placas" id="inputPlacasCar">
						</div>
					</div>
					-->
					<small class="text-black-50 mt-3">** Campos son obligatorios</small>
					<br/>
					<small class="text-danger mt-1 mb-3" id="alert_car_modal" style="display:none;">** Faltan campos obligatorios</small>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm" onclick="getSaveCar();return false;">Guardar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal List comments-->
	<div class="modal fade" id="listCommentsModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Comentarios / Instrucciones de visita</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<table class="table table-borderless" style="border: none !important;" id="tableModalInstructions">
						<thead class="table-warning">
							<th>Comentarios / Instrucciones</th>
						</thead>
						<tbody>
							<tr>
								<td>Comentario</td>
							</tr>
						</tbody>
					</table>
					
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm">Enviar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal List Bitacora-->
	<div class="modal fade" id="listBitacoraModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Accesos</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<table class="table" id="tableBitacoraModal">
						<thead class="table-warning">
							<th>Visito a</th>
							<th>Ubicación</th>
							<th>Fecha</th>
						</thead>
						<tbody>
							<tr>
								<td>Jefe 1</td>
								<td>Ubicación</td>
								<td>20-03-2024</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal List Access-->
	<div class="modal fade" id="listLocationsModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Permisos / certificaciones</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<table class="table" id="tableModalLocations">
						<thead class="table-warning">
							<th>Permiso / Certificación</th>
							<th>Status</th>
						</thead>
						<tbody>
							<tr>
								<td>Permiso de Servidor</td>
								<td>Valido</td>
							</tr>
						</tbody>
					</table>
					
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm">Enviar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal List Locations-->
	<div class="modal fade" id=" listAccessModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Accesos permitidos</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<table class="table" id="tableModalAccess">
						<thead class="table-warning">
							<th>Acceso</th>
						</thead>
						<tbody>
							<tr>
								<td>Permiso de Servidor</td>
							</tr>
						</tbody>
					</table>
					
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-success btn-sm">Enviar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal List Items-->
	<div class="modal fade" id="listItemsModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Items</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<table class="table" id="tableModalItems">
						<thead class="table-warning">
							<th>Tipo</th>
							<th>Marca</th>
							<th>Modelo</th>
							<th style="width: 20%;">Añadirlo</th>
						</thead>
						<tbody></tbody>
					</table>
					
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal List Cars-->
	<div class="modal fade" id="listCarsModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Vehiculos</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<table class="table" id="tableCarsModal">
						<thead class="table-warning">
							<th class="headerColor">Tipo</th>
							<th class="headerColor">Marca</th>
							<th class="headerColor">Modelo</th>
							<th class="headerColor">Matricula</th>
							<th class="headerColor">Color</th>
						</thead>
						<tbody></tbody>
					</table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal List Add Cars-->
	<div class="modal fade" id="listAddCarsModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Vehiculos</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<table class="table table-borderless" style="border: none !important;" id="tableAddCarsModal">
						<thead class="table-warning">
							<th class="headerColor">Tipo</th>
							<th class="headerColor">Marca</th>
							<th class="headerColor">Modelo</th>
							<th class="headerColor">Matricula</th>
							<th class="headerColor">Color</th>
						</thead>
						<tbody></tbody>
					</table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal List Add Items-->
	<div class="modal fade" id="listAddItemsModal" tabindex="-1"  aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Lista de Equipo</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<table class="table table-borderless" style="border: none !important;" id="tableAddItemsModal">
						<thead class="table-warning">
							<th class="headerColor">Tipo</th>
							<th class="headerColor">Marca</th>
							<th class="headerColor">Modelo</th>
							<th class="headerColor">No. Serie</th>
							<th class="headerColor">Color</th>
						</thead>
						<tbody></tbody>
					</table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal">Cancelar</button>
				</div>
			</div>
		</div>
	</div>

	<div id="divSpinner" style="display:none;margin-top: 100px;"></div>
</body>
<!-- Local -->
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
 <link rel="stylesheet" href="./style.css">

<script type="text/javascript" src="../utils/servido_utils.js"></script>
<script type="text/javascript" src="./functions.js"></script>
<script  type="text/javascript" src="./components/locationCard.js"></script>
<script  type="text/javascript" src="./components/navbar.js"></script>
<script  src="./accesosData.js"></script>
<script  src="./accesos.js"></script>


<!-- Jquery -->
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<!-- Tabulator -->
<script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script type="text/javascript" src="../styles/js/sweetalert2.all.min.js"></script>
</html>