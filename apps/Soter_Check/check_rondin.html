<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rondin Inspección Perimetral</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="./check_rondin.css" rel="stylesheet">
</head>
<body>
    <!-- Div Loading-->
    <div id="loading">
        <div>
            <div class="spinner-border text-primary" role="status"></div>
            <p class="text-center mt-3">Cargando...</p>
        </div>
    </div>

    <!-- Div Container-->
    <div class="container container-custom hidden" id="main-content">
        <div class="header-title">Rondin de Inspección</div>
        <div class="image-container">
            <img src="https://f001.backblazeb2.com/file/app-linkaform/public-client-126/71202/60b81349bde5588acca320e1/673f54428183892c605a26d2.png" alt="Imagen de Caseta" id="imageLocation">
        </div>

        <div class="info-section">
            <h5 class="mb-1" id="titleLocation">Caseta de vigilancia planta 1</h5>
            <p class="mb-1" ><strong>Dirección:</strong> <span id="textDir"></span></p>
            <p class="mb-1" ><strong>Ubicación:</strong> <span id="textUbic"></span></p>
            <p class="mb-1"><strong>Tipo de Área:</strong> <span id="textType"></span></p>
            <p><strong>Fecha de Inspección:</strong>  <span id="textTime"></span></p>
        </div>
        <hr class="border border-secondary border-2 opacity-70">

        <!-- Checklist -->
        <div >
            <h6 class="checklist-title">Checklist</h6>
            <p>Para cada elemento, seleccione la casilla si cumple.</p>
            <div id="listCheckDiv"></div>
        </div>

        <!-- Sección de comentarios -->
        <div class="comments-section">
            <h6 class="checklist-title">Comentarios</h6>
            <textarea class="form-control" rows="3" placeholder="Escriba sus comentarios aquí..." id="commentCheck"></textarea>
        </div>

        <!-- Adjuntar fotos -->
        <div class="attachments-section">
            <h6 class="checklist-title">Agregar foto</h6>
            <div class="d-flex align-items-center mb-2">
                <span class="icon-button me-3" id="cameraButton"><i class="fas fa-camera"></i></span>
                <span class="icon-button" id="galleryButton"><i class="fas fa-upload"></i></span>
            </div>
            <!-- Div loading -->
            <div id="divLoadingImage" class="loader-spinner"  style="display: none;">
                <i class="fas fa-spinner fa-spin"></i> Cargando imágenes...
            </div>
            <!-- Lista de imagenes -->
            <div id="divListImages"></div>
        </div>

        <!-- Botón de enviar -->
        <button class="btn btn-primary btn-send" id="buttonSend">Enviar</button>
    </div>
    <!-- Div Modal -->
    <div class="modal fade" id="alertaModalSuccess" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="alert alert-warning mb-0 text-center" role="alert">
                        <h2><strong id="textModalSuccess"></strong></h2>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Div Modal Error -->
    <div class="modal fade" id="alertaModalFail" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger mb-0 text-center mt-3" role="alert">
                        <h2><strong>¡Hubo un error en el registro, contacte a soporte!</strong></h2>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../Utils_New/js/servido_utils.js"></script>
    <script type="text/javascript" src="./check_rondin.js"></script>
    <script type="text/javascript" src="./check_data.js"></script>
</body>
</html>
